var tableDataAndGraph;(()=>{"use strict";var e={946:(e,t,a)=>{a.d(t,{C:()=>s,S:()=>i});var r=a(674),l=r.z.Zp,n=r.z.Kx;class o extends l{BackGroundColor=new r.z.sk({name:"BackGroundColor",displayName:"Background Color",value:{value:"#FFFFFF"}});BackGroundColorAccount=new r.z.sk({name:"BackGroundColorAccount",displayName:"Background Color Type Account",value:{value:"#FFFFFF"}});BackGroundColorHeaders=new r.z.sk({name:"BackGroundColorHeaders",displayName:"Background Color Headers",value:{value:"#FFFFFF"}});BackGroundColorHeadersColor=new r.z.sk({name:"BackGroundColorHeadersColor",displayName:"Text Color Headers",value:{value:"#FFFFFF"}});LabelExpenses=new r.z.ks({placeholder:"Label Expenses",name:"LabelExpenses",displayName:"Label Expenses",value:"Label Expense"});LabelIncome=new r.z.ks({placeholder:"Label Income",name:"LabelIncome",displayName:"Label Income",value:"Label Income"});LabelTotalExpenses=new r.z.ks({placeholder:"Label Total Expenses",name:"LabelTotalExpenses",displayName:"Label Total Expenses",value:"Label Expense"});LabelTotalIncome=new r.z.ks({placeholder:"Label Total Income",name:"LabelTotalIncome",displayName:"Label Total Income",value:"Label Total Income"});LabelTotalProfit=new r.z.ks({placeholder:"Label Total Profit",name:"LabelTotalProfit",displayName:"Label Total Profit",value:"Label Total Profit"});LabelRevenues=new r.z.ks({placeholder:"Label NON-Operatin Revenues",name:"LabelRevenues",displayName:"Label NON-Operatin Revenues",value:"Label NON-Operatin Revenues"});LabelTotalRevenues=new r.z.ks({placeholder:"Label Total NON-Operatin Revenues",name:"LabelTotalRevenues",displayName:"Label Total NON-Operatin Revenues",value:"Label Total NON-Operatin Revenues"});LabelTotalNetResultOperation=new r.z.ks({placeholder:"Label Total Net Result Operation",name:"LabelTotalNetResultOperation",displayName:"Label Total Net Result Operation",value:"Label Total Net Result Operation"});DecimalPlace=new r.z.iB({name:"DecimalPlace",displayName:"Decimal Place",value:2,options:{minValue:{type:0,value:0},maxValue:{type:1,value:8}}});name="format_table";displayName="Format Table";slices=[this.LabelIncome,this.LabelTotalIncome,this.LabelExpenses,this.LabelTotalExpenses,this.BackGroundColorHeaders,this.BackGroundColorHeadersColor,this.BackGroundColor,this.DecimalPlace,this.BackGroundColorAccount,this.LabelTotalProfit,this.LabelRevenues,this.LabelTotalRevenues,this.LabelTotalNetResultOperation]}class i extends n{dataPointCard=new o;cards=[this.dataPointCard]}class s{INCOME;EXPENSES;PROFIT;REVENUES;NETRESULTOPERATION;ValueDecimalPlaces;BackGroundColor;BackGroundColorAccount;BackGroundColorHeaders;BackGroundColorHeadersColor;constructor(e=null,t=null,a=null,r=null,l=null,n=3,o="#FFFFFF",i="#FFFFFF",s="#FFFFFF",u="#FFFFFF"){this.INCOME=e,this.EXPENSES=t,this.PROFIT=a,this.REVENUES=r,this.NETRESULTOPERATION=l,this.ValueDecimalPlaces=n,this.BackGroundColor=o,this.BackGroundColorAccount=i,this.BackGroundColorHeaders=s,this.BackGroundColorHeadersColor=u}getSettings(e){return{INCOME:{Label:e.dataPointCard.LabelIncome.value,LabelTotal:e.dataPointCard.LabelTotalIncome.value},EXPENSES:{Label:e.dataPointCard.LabelExpenses.value,LabelTotal:e.dataPointCard.LabelTotalExpenses.value},PROFIT:{Label:null,LabelTotal:e.dataPointCard.LabelTotalProfit.value},REVENUES:{Label:e.dataPointCard.LabelRevenues.value,LabelTotal:e.dataPointCard.LabelTotalRevenues.value},NETRESULTOPERATION:{Label:e.dataPointCard.LabelTotalNetResultOperation.value,LabelTotal:e.dataPointCard.LabelTotalNetResultOperation.value},ValueDecimalPlaces:e.dataPointCard.DecimalPlace.value,BackGroundColor:e.dataPointCard.BackGroundColor.value.value,BackGroundColorAccount:e.dataPointCard.BackGroundColorAccount.value.value,BackGroundColorHeaders:e.dataPointCard.BackGroundColorHeaders.value.value,BackGroundColorHeadersColor:e.dataPointCard.BackGroundColorHeadersColor.value.value}}}},283:(e,t,a)=>{a.d(t,{b:()=>n});var r=a(674),l=a(946);class n{static target;updateCount;textNode;AllColumnNames;executeUpdate;table;formattingSettings;formattingSettingsService;dataView;static _id_event_click_global_="";static GrandTotal={TotalIncome:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},TotalExpenses:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},TotalProfit:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},TotalRevenues:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},TotalNetResultOperation:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},ITDA_VALUE:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},EBITDA_VALUE:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},EBITDA_PERCENTAGE:{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0}};static settings_obj;constructor(e){if(this.formattingSettingsService=new r.O,n.target=e.element,this.executeUpdate=!1,document){const e=document.createElement("div");e.className="TblContainerER",e.setAttribute("id","TblContainerER"),n.target.appendChild(e)}}static LogBOX(e=null,t="error"){let a=document.getElementById("logbox");if(a)document.getElementById("allcontent").innerHTML+='<div class="container-message '+t+'">'+e+"</div>";else{const r=document.createElement("div"),l=document.createElement("div");l.id="allcontent",r.id="show_hidden",a=document.createElement("div"),a.className="log",a.id="logbox",l.innerHTML='<div class="container-message '+t+'">'+e+"</div>",a.appendChild(r),a.appendChild(l),n.target.appendChild(a)}null==e&&$(".container-message").length&&$(".container-message").remove()}static ReturnCell(e,t,a="",r=null){const l=document.createElement(e);return l.innerHTML=t,""!=a&&(l.className=a),null!==r&&l.setAttribute("colspan",r.toString()),l}static checkValue(e,t=!1,a=""){return null==e||null==e?a:t?Number(e):e}static returnDate(e){return`${e.getDate().toString()}-${(e.getMonth()+1).toString()}-${e.getFullYear()}`}static ReplaceYTD(e,t,a){return e.replace("[CURRENT YEAR]",a).replace("[LAST YEAR]",t).replace(/\s+/g,"<br>")}onlyUnique(e,t,a){return a.indexOf(e)===t}returnDB_Json(e){const t={TITLE_COLUMNS:{VALUES:[{account:null,categories:null,group_account_name:null,account_name:null,PreviousYear:null,Budget:null,CurrentYear:null,difDollar:null,difPercentage:null,current_date:null}]},VALUES:[],INCOME:{VALUES:[]},EXPENSES:{VALUES:[]},PROFIT:{VALUES:[]},REVENUES:{VALUES:[]},NETRESULTOPERATION:{VALUES:[]},CURRENT_YTD:"",LAST_YTD:""};return e.columns.forEach((e=>{const a={value:JSON.stringify(e.displayName),position:parseInt(e.index)};e.roles.hasOwnProperty("account")?t.TITLE_COLUMNS.VALUES[0].account=a:e.roles.hasOwnProperty("categories")?t.TITLE_COLUMNS.VALUES[0].categories=a:e.roles.hasOwnProperty("group_account_name")?t.TITLE_COLUMNS.VALUES[0].group_account_name=a:e.roles.hasOwnProperty("account_name")?t.TITLE_COLUMNS.VALUES[0].account_name=a:e.roles.hasOwnProperty("PreviousYear")?t.TITLE_COLUMNS.VALUES[0].PreviousYear=a:e.roles.hasOwnProperty("Budget")?t.TITLE_COLUMNS.VALUES[0].Budget=a:e.roles.hasOwnProperty("CurrentYear")?t.TITLE_COLUMNS.VALUES[0].CurrentYear=a:e.roles.hasOwnProperty("difDollar")?t.TITLE_COLUMNS.VALUES[0].difDollar=a:e.roles.hasOwnProperty("difPercentage")?t.TITLE_COLUMNS.VALUES[0].difPercentage=a:e.roles.hasOwnProperty("current_date")&&(t.TITLE_COLUMNS.VALUES[0].current_date=a)})),e.rows.forEach((e=>{let a="";const r=Number(e[t.TITLE_COLUMNS.VALUES[0].PreviousYear.position]),l=Number(e[t.TITLE_COLUMNS.VALUES[0].Budget.position]),o=Number(e[t.TITLE_COLUMNS.VALUES[0].CurrentYear.position]),i=Number(e[t.TITLE_COLUMNS.VALUES[0].difDollar.position]),s=Number(e[t.TITLE_COLUMNS.VALUES[0].difPercentage.position]);if(null!==e[t.TITLE_COLUMNS.VALUES[0].categories.position]){a=e[t.TITLE_COLUMNS.VALUES[0].account.position];const u={account:e[t.TITLE_COLUMNS.VALUES[0].account.position],categories:e[t.TITLE_COLUMNS.VALUES[0].categories.position],group_account_name:e[t.TITLE_COLUMNS.VALUES[0].group_account_name.position],account_name:e[t.TITLE_COLUMNS.VALUES[0].account_name.position],PreviousYear:r,Budget:l,CurrentYear:o,difDollar:i,difPercentage:s};"FINANCIAL/DEPRECIATION"===u.categories&&(u.account_name.toUpperCase().includes("Amortizations".toUpperCase())||u.account_name.toUpperCase().includes("Depreciation".toUpperCase())||u.account_name.toUpperCase().includes("Interest Payment".toUpperCase()))&&(n.GrandTotal.ITDA_VALUE.categories="EBITDA (US$)",n.GrandTotal.ITDA_VALUE.PreviousYear+=u.PreviousYear,n.GrandTotal.ITDA_VALUE.Budget+=u.Budget,n.GrandTotal.ITDA_VALUE.CurrentYear+=u.CurrentYear,n.GrandTotal.ITDA_VALUE.difDollar+=u.difDollar,n.GrandTotal.ITDA_VALUE.difPercentage+=u.difPercentage),"OPERATING INCOME"==a?t.INCOME.VALUES.push(u):"OPERATING EXPENSES"==a?t.EXPENSES.VALUES.push(u):"NON-OPERATING REVENUES"==a&&t.REVENUES.VALUES.push(u)}""==t.CURRENT_YTD&&(t.CURRENT_YTD=n.returnFormatYTD(e[t.TITLE_COLUMNS.VALUES[0].current_date.position],"current"),t.LAST_YTD=n.returnFormatYTD(e[t.TITLE_COLUMNS.VALUES[0].current_date.position],"last"),t.TITLE_COLUMNS.VALUES[0].account.value=n.ReplaceYTD(t.TITLE_COLUMNS.VALUES[0].account.value,t.LAST_YTD,t.CURRENT_YTD),t.TITLE_COLUMNS.VALUES[0].PreviousYear.value=n.ReplaceYTD(t.TITLE_COLUMNS.VALUES[0].PreviousYear.value,t.LAST_YTD,t.CURRENT_YTD),t.TITLE_COLUMNS.VALUES[0].Budget.value=n.ReplaceYTD(t.TITLE_COLUMNS.VALUES[0].Budget.value,t.LAST_YTD,t.CURRENT_YTD),t.TITLE_COLUMNS.VALUES[0].CurrentYear.value=n.ReplaceYTD(t.TITLE_COLUMNS.VALUES[0].CurrentYear.value,t.LAST_YTD,t.CURRENT_YTD),t.TITLE_COLUMNS.VALUES[0].difDollar.value=n.ReplaceYTD(t.TITLE_COLUMNS.VALUES[0].difDollar.value,t.LAST_YTD,t.CURRENT_YTD),t.TITLE_COLUMNS.VALUES[0].difPercentage.value=n.ReplaceYTD(t.TITLE_COLUMNS.VALUES[0].difPercentage.value,t.LAST_YTD,t.CURRENT_YTD))})),t}static isNumeric(e){return null!=e&&""!==e&&!isNaN(Number(e.toString()))}static returnFormatYTD(e,t="current"){const a="current"==t?2e3:2001;return(new Date(e).toLocaleString("default",{month:"short"})+"-"+(parseInt(new Date(e).toLocaleString("default",{year:"numeric"}))-a)).replace(/^\w/,(e=>e.toUpperCase()))}static returnStyleOutput(e,t=null,a=!0){return e=n.isNumeric(e)?n.PrintFormatNumeric(e,!1,!1,a):e,null===t?"<span>"+e+"</span>":"$"==t||"U$"==t||"US$"==t||"C$"==t?"<span><i>"+t+"</i>"+(e+""=="-0"?"-":e)+"</span>":"%"==t?"<span>"+e.replace("(","-").replace(")","")+"%</span>":void 0}static capitalizar(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}static ReturnRowWithData(e,t=null){const a=document.createElement("tr");"is_row_category"===t?(null!=t&&(a.className=t+" "+n._id_event_click_global_,a.setAttribute("data-category",n.doDashes(e.categories))),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.categories),"is_string"))):"is_row_group_acount"===t?(null!=t&&(a.className=t+" "+n._id_event_click_global_,a.setAttribute("data-group-acount",n.doDashes(e.group_account_name))),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.group_account_name),"is_string"))):(a.className=t+" hidden "+n.doDashes(e.categories),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.account_name),"is_string "))),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.PreviousYear,"$"),"is_numeric")),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.Budget,"$"),"is_numeric")),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.CurrentYear,"$"),"is_numeric")),a.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.difDollar,"$"),"is_numeric"));const r=n.returnStyleOutput(Number(e.Budget)>0?Number(e.difDollar)/Number(e.Budget)*100:"-","%",!1);return a.appendChild(n.ReturnCell("td","<span>-%</span>"==r?"<span></span>":r,"is_numeric")),a}static doDashes(e){return(e=e.replace(/[^a-z0-9]+/gi,"-")).replace(/^-*|-*$/g,"").toLowerCase()}static getRandomArbitrary(e,t){return(Math.random()*(t-e)+e).toFixed(0)}static returnTotalLabel(e){let t="";switch(e){case"PROFIT":t="TotalProfit";break;case"NETRESULTOPERATION":t="TotalNetResultOperation";break;case"EBITDA_VALUE":t="EBITDA_VALUE";break;case"EBITDA_PERCENTAGE":t="EBITDA_PERCENTAGE"}return t}static ReturnRow(e,t,a){const r=document.createElement("tr");return r.appendChild(n.ReturnCell("th",n.returnStyleOutput(e,"is_string_full"))),r.appendChild(n.ReturnCell("td",n.returnStyleOutput(t.PreviousYear.toFixed(0),a),"is_numeric")),r.appendChild(n.ReturnCell("td",n.returnStyleOutput(t.Budget.toFixed(0),a),"is_numeric")),r.appendChild(n.ReturnCell("td",n.returnStyleOutput(t.CurrentYear.toFixed(0),a),"is_numeric")),r.appendChild(n.ReturnCell("td",n.returnStyleOutput(t.difDollar.toFixed(0),a),"is_numeric")),r.appendChild(n.ReturnCell("td",n.returnStyleOutput(t.difPercentage.toFixed(1),"%",!1),"is_numeric")),r}static InitzialiceJSON(){return{categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0}}static returnJsonEBITDA_VALUE(){return{PreviousYear:n.GrandTotal.EBITDA_VALUE.PreviousYear/n.GrandTotal.TotalIncome.PreviousYear*100,Budget:n.GrandTotal.EBITDA_VALUE.Budget/n.GrandTotal.TotalIncome.Budget*100,CurrentYear:n.GrandTotal.EBITDA_VALUE.CurrentYear/n.GrandTotal.TotalIncome.CurrentYear*100,difDollar:0,difPercentage:0}}static GenerateAccountTypeTable(e=null,t=null,a=null){let r=document.createElement("table"),l=document.createElement("thead"),o=document.createElement("tfoot"),i=document.createElement("tbody"),s=document.createElement("tr");if(r.className="tbl_style separator-bottom "+e,s.className="is_row_title_type_account","PROFIT"==e||"NETRESULTOPERATION"==e||"EBITDA_VALUE"==e||"EBITDA_PERCENTAGE"==e){let t=n.returnTotalLabel(e),a=((n.GrandTotal[t].CurrentYear-n.GrandTotal[t].Budget)/n.GrandTotal[t].Budget*100).toFixed(1);if(console.clear(),console.log(""),console.log(e),"EBITDA_PERCENTAGE"===e){let e=n.returnJsonEBITDA_VALUE();e.difDollar=e.CurrentYear-e.Budget,e.difPercentage=e.difDollar/e.Budget,s.appendChild(n.ReturnCell("th",n.returnStyleOutput(n.GrandTotal[t].categories),"is_string_full")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.PreviousYear.toFixed(0),"%"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.Budget.toFixed(0),"%"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.CurrentYear.toFixed(0),"%"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.difDollar.toFixed(0),"%"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(e.difPercentage,"%"),"is_numeric"))}else s.appendChild(n.ReturnCell("th",n.returnStyleOutput(n.GrandTotal[t].categories),"is_string_full")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(n.GrandTotal[t].PreviousYear,"$"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(n.GrandTotal[t].Budget,"$"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(n.GrandTotal[t].CurrentYear,"$"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(n.GrandTotal[t].difDollar,"$"),"is_numeric")),s.appendChild(n.ReturnCell("td",n.returnStyleOutput(a,"%"),"is_numeric"));l.appendChild(s),r.append(l)}else{let u=n.InitzialiceJSON(),d="",c=n.InitzialiceJSON();if(null!=a){r.className="tbl_style","HEADERS"===e&&(s.className="headers");for(let t in a)if("HEADERS"===e&&"account_name"!=t&&"categories"!=t&&"current_date"!=t){const e=a[t].replace('"',"").replace('"',"");s.appendChild(n.ReturnCell("th",e))}l.appendChild(s),r.append(l)}else{if(r.className="tbl_style separator-bottom",null!=n.settings_obj[e].Label){let t=document.createElement("tr");t.className="is_row_title_type_account",t.appendChild(n.ReturnCell("th",n.returnStyleOutput(n.settings_obj[e].Label),"is_string_full",6)),l.appendChild(t)}if(t){let a={group_account_name:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0},r=document.createElement("div"),l="",o="",s="";t.forEach((t=>{""==l&&(l=t.group_account_name,o=" begin_group_"+n.doDashes(t.group_account_name)+" ",s=" class_parent_"+n.doDashes(t.group_account_name)+" "),l!==t.group_account_name?(o=" begin_group_"+n.doDashes(t.group_account_name)+" ",s=" class_parent_"+n.doDashes(t.group_account_name)+" ",l=t.group_account_name,a={group_account_name:t.group_account_name,PreviousYear:t.PreviousYear,Budget:t.Budget,CurrentYear:t.CurrentYear,difDollar:t.difDollar,difPercentage:t.difPercentage}):a={group_account_name:t.group_account_name,PreviousYear:a.PreviousYear+t.PreviousYear,Budget:a.Budget+t.Budget,CurrentYear:a.CurrentYear+t.CurrentYear,difDollar:a.difDollar+t.difDollar,difPercentage:a.difPercentage+t.difPercentage},d!=t.categories&&(""!=d&&(i.appendChild(n.ReturnRowWithData(c,"is_row_category")),i.innerHTML+=r.innerHTML,r.innerHTML=null,u={categories:n.settings_obj[e].LabelTotal,PreviousYear:u.PreviousYear+c.PreviousYear,Budget:u.Budget+c.Budget,CurrentYear:u.CurrentYear+c.CurrentYear,difDollar:u.difDollar+c.difDollar,difPercentage:u.difPercentage+c.difPercentage},c={categories:"",PreviousYear:0,Budget:0,CurrentYear:0,difDollar:0,difPercentage:0}),r=document.createElement("div")),c={categories:t.categories,PreviousYear:c.PreviousYear+t.PreviousYear,Budget:c.Budget+t.Budget,CurrentYear:c.CurrentYear+t.CurrentYear,difDollar:c.difDollar+t.difDollar,difPercentage:c.difPercentage+t.difPercentage},r.appendChild(n.ReturnRowWithData(t,"is_row_title "+o+" "+s)),d=t.categories,o=""})),u={categories:n.settings_obj[e].LabelTotal,PreviousYear:u.PreviousYear+c.PreviousYear,Budget:u.Budget+c.Budget,CurrentYear:u.CurrentYear+c.CurrentYear,difDollar:u.difDollar+c.difDollar,difPercentage:u.difPercentage+c.difPercentage},i.appendChild(n.ReturnRowWithData(c,"is_row_category")),i.innerHTML+=r.innerHTML,r.innerHTML=null}if(null!=n.settings_obj[e].Label){let t=document.createElement("tr");t.className="is_row_title_type_account";let a=((u.CurrentYear-u.Budget)/u.Budget*100).toFixed(1);t.appendChild(n.ReturnCell("th",n.returnStyleOutput(n.settings_obj[e].LabelTotal),"is_string_full")),t.appendChild(n.ReturnCell("td",n.returnStyleOutput(u.PreviousYear,"$"),"is_numeric")),t.appendChild(n.ReturnCell("td",n.returnStyleOutput(u.Budget,"$"),"is_numeric")),t.appendChild(n.ReturnCell("td",n.returnStyleOutput(u.CurrentYear,"$"),"is_numeric")),t.appendChild(n.ReturnCell("td",n.returnStyleOutput(u.difDollar,"$"),"is_numeric")),t.appendChild(n.ReturnCell("td",n.returnStyleOutput(a,"%",!1),"is_numeric")),o.appendChild(t),"INCOME"===e?n.GrandTotal.TotalIncome={categories:"OPERATING INCOME",PreviousYear:u.PreviousYear,Budget:u.Budget,CurrentYear:u.CurrentYear,difDollar:u.difDollar,difPercentage:u.difPercentage}:"EXPENSES"===e?(n.GrandTotal.TotalExpenses={categories:"OPERATING EXPENSES",PreviousYear:u.PreviousYear,Budget:u.Budget,CurrentYear:u.CurrentYear,difDollar:u.difDollar,difPercentage:u.difPercentage},n.GrandTotal.TotalProfit={categories:"PROFIT OPERATING",PreviousYear:n.GrandTotal.TotalIncome.PreviousYear-n.GrandTotal.TotalExpenses.PreviousYear,Budget:n.GrandTotal.TotalIncome.Budget-n.GrandTotal.TotalExpenses.Budget,CurrentYear:n.GrandTotal.TotalIncome.CurrentYear-n.GrandTotal.TotalExpenses.CurrentYear,difDollar:n.GrandTotal.TotalIncome.difDollar-n.GrandTotal.TotalExpenses.difDollar,difPercentage:n.GrandTotal.TotalIncome.difPercentage-n.GrandTotal.TotalExpenses.difPercentage}):"REVENUES"===e&&(n.GrandTotal.TotalRevenues={categories:"OPERATING INCOME",PreviousYear:u.PreviousYear,Budget:u.Budget,CurrentYear:u.CurrentYear,difDollar:u.difDollar,difPercentage:u.difPercentage},n.GrandTotal.TotalNetResultOperation={categories:"NET RESULT OPERATION",PreviousYear:n.GrandTotal.TotalProfit.PreviousYear+n.GrandTotal.TotalRevenues.PreviousYear,Budget:n.GrandTotal.TotalProfit.Budget+n.GrandTotal.TotalRevenues.Budget,CurrentYear:n.GrandTotal.TotalProfit.CurrentYear+n.GrandTotal.TotalRevenues.CurrentYear,difDollar:n.GrandTotal.TotalProfit.difDollar+n.GrandTotal.TotalRevenues.difDollar,difPercentage:n.GrandTotal.TotalProfit.difPercentage+n.GrandTotal.TotalRevenues.difPercentage})}""!==$.trim(l.innerHTML)&&r.append(l),""!==$.trim(i.innerHTML)&&r.append(i),""!==$.trim(o.innerHTML)&&r.append(o)}}return r}static GetDataValues(e){return{account:e.account.value,categories:e.categories.value,account_name:e.account_name.value,PreviousYear:e.PreviousYear.value,Budget:e.Budget.value,CurrentYear:e.CurrentYear.value,difDollar:e.difDollar.value,difPercentage:e.difPercentage.value}}InitDataTable(){const e=document.getElementById("TblContainerER");e.innerHTML="";let t=this.dataView.table,a=this.returnDB_Json(t),r=new Date("10/02/2019");const l=new Date;n._id_event_click_global_="event_click_"+Math.abs(r-l)+n.getRandomArbitrary(100,999),e.appendChild(n.GenerateAccountTypeTable("HEADERS",null,n.GetDataValues(a.TITLE_COLUMNS.VALUES[0]))),e.appendChild(n.GenerateAccountTypeTable("INCOME",a.INCOME.VALUES)),e.appendChild(n.GenerateAccountTypeTable("EXPENSES",a.EXPENSES.VALUES)),e.appendChild(n.GenerateAccountTypeTable("PROFIT")),e.appendChild(n.GenerateAccountTypeTable("REVENUES",a.REVENUES.VALUES)),e.appendChild(n.GenerateAccountTypeTable("NETRESULTOPERATION")),n.GrandTotal.EBITDA_VALUE.categories="EBITDA (US$)",n.GrandTotal.EBITDA_VALUE.PreviousYear=Number(n.GrandTotal.TotalNetResultOperation.PreviousYear)+Number(n.GrandTotal.ITDA_VALUE.PreviousYear),n.GrandTotal.EBITDA_VALUE.Budget=Number(n.GrandTotal.TotalNetResultOperation.Budget)+Number(n.GrandTotal.ITDA_VALUE.Budget),n.GrandTotal.EBITDA_VALUE.CurrentYear=Number(n.GrandTotal.TotalNetResultOperation.CurrentYear)+Number(n.GrandTotal.ITDA_VALUE.CurrentYear),n.GrandTotal.EBITDA_VALUE.difDollar=Number(n.GrandTotal.TotalNetResultOperation.difDollar)+Number(n.GrandTotal.ITDA_VALUE.difDollar),n.GrandTotal.EBITDA_VALUE.difPercentage=Number(n.GrandTotal.TotalNetResultOperation.difPercentage)+Number(n.GrandTotal.ITDA_VALUE.difPercentage),e.appendChild(n.GenerateAccountTypeTable("EBITDA_VALUE")),n.GrandTotal.EBITDA_PERCENTAGE.categories="EBITDA (%)",n.GrandTotal.EBITDA_PERCENTAGE.PreviousYear=parseFloat(n.GrandTotal.EBITDA_VALUE.PreviousYear+"")/parseFloat(n.GrandTotal.TotalIncome.PreviousYear+""),n.GrandTotal.EBITDA_PERCENTAGE.CurrentYear=n.GrandTotal.EBITDA_VALUE.CurrentYear/n.GrandTotal.TotalIncome.CurrentYear,n.GrandTotal.EBITDA_PERCENTAGE.difDollar=n.GrandTotal.EBITDA_VALUE.difDollar/n.GrandTotal.TotalIncome.difDollar,n.GrandTotal.EBITDA_PERCENTAGE.difPercentage=n.GrandTotal.EBITDA_VALUE.difPercentage/n.GrandTotal.TotalIncome.difPercentage,e.appendChild(n.GenerateAccountTypeTable("EBITDA_PERCENTAGE")),n.GrandTotal.TotalIncome.categories="",n.GrandTotal.TotalIncome.PreviousYear=0,n.GrandTotal.TotalIncome.Budget=0,n.GrandTotal.TotalIncome.CurrentYear=0,n.GrandTotal.TotalIncome.difDollar=0,n.GrandTotal.TotalIncome.difPercentage=0,n.GrandTotal.TotalExpenses.categories="",n.GrandTotal.TotalExpenses.PreviousYear=0,n.GrandTotal.TotalExpenses.Budget=0,n.GrandTotal.TotalExpenses.CurrentYear=0,n.GrandTotal.TotalExpenses.difDollar=0,n.GrandTotal.TotalExpenses.difPercentage=0,n.GrandTotal.TotalProfit.categories="",n.GrandTotal.TotalProfit.PreviousYear=0,n.GrandTotal.TotalProfit.Budget=0,n.GrandTotal.TotalProfit.CurrentYear=0,n.GrandTotal.TotalProfit.difDollar=0,n.GrandTotal.TotalProfit.difPercentage=0,n.GrandTotal.TotalRevenues.categories="",n.GrandTotal.TotalRevenues.PreviousYear=0,n.GrandTotal.TotalRevenues.Budget=0,n.GrandTotal.TotalRevenues.CurrentYear=0,n.GrandTotal.TotalRevenues.difDollar=0,n.GrandTotal.TotalRevenues.difPercentage=0,n.GrandTotal.TotalNetResultOperation.categories="",n.GrandTotal.TotalNetResultOperation.PreviousYear=0,n.GrandTotal.TotalNetResultOperation.Budget=0,n.GrandTotal.TotalNetResultOperation.CurrentYear=0,n.GrandTotal.TotalNetResultOperation.difDollar=0,n.GrandTotal.TotalNetResultOperation.difPercentage=0,n.GrandTotal.ITDA_VALUE.categories="",n.GrandTotal.ITDA_VALUE.PreviousYear=0,n.GrandTotal.ITDA_VALUE.Budget=0,n.GrandTotal.ITDA_VALUE.CurrentYear=0,n.GrandTotal.ITDA_VALUE.difDollar=0,n.GrandTotal.ITDA_VALUE.difPercentage=0,n.GrandTotal.EBITDA_VALUE.categories="",n.GrandTotal.EBITDA_VALUE.PreviousYear=0,n.GrandTotal.EBITDA_VALUE.Budget=0,n.GrandTotal.EBITDA_VALUE.CurrentYear=0,n.GrandTotal.EBITDA_VALUE.difDollar=0,n.GrandTotal.EBITDA_VALUE.difPercentage=0,n.GrandTotal.EBITDA_PERCENTAGE.categories="",n.GrandTotal.EBITDA_PERCENTAGE.PreviousYear=0,n.GrandTotal.EBITDA_PERCENTAGE.Budget=0,n.GrandTotal.EBITDA_PERCENTAGE.CurrentYear=0,n.GrandTotal.EBITDA_PERCENTAGE.difDollar=0,n.GrandTotal.EBITDA_PERCENTAGE.difPercentage=0,n.target.appendChild(e)}update(e){if(this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(l.S,e.dataViews),n.target){n.settings_obj=(new l.C).getSettings(this.formattingSettings),this.dataView=e.dataViews[0],this.InitDataTable();let t=$(".TblContainerER").parent();t.css("background",n.settings_obj.BackGroundColor),t.find(".tbl_style tr.headers, .EBITDA_VALUE tr, .EBITDA_PERCENTAGE tr").css("background-color",n.settings_obj.BackGroundColorHeaders),t.find(".tbl_style tr.headers, .EBITDA_VALUE tr, .EBITDA_PERCENTAGE tr").css("color",n.settings_obj.BackGroundColorHeadersColor),t.find(".tbl_style tr.headers th").css("border-color",n.settings_obj.BackGroundColor),t.find(".tbl_style:not(.EBITDA_VALUE, .EBITDA_PERCENTAGE) .is_row_title_type_account").css("background",n.settings_obj.BackGroundColorAccount),$("body").on("click","."+n._id_event_click_global_,(function(){let e=$(this),t=$.trim(e.data("category"));e.hasClass("_show_")?($("tr."+t).addClass("hidden"),e.removeClass("_show_")):($("tr."+t).removeClass("hidden"),e.addClass("_show_"))}));let a=$("#show_hidden");a.length&&a.on("click",(e=>{$("#logbox").hasClass("open")?$("#logbox").removeClass("open"):$("#logbox").addClass("open")}))}}static PrintFormatNumeric(e,t=!1,a=!1,r=!0){let l=e,o=Number(n.settings_obj.ValueDecimalPlaces);if(null==l||!isFinite(l))throw new TypeError("number is not valid");if(!o){let e=l.toString().split(".").length;o=e>1?e:0}t||(t="."),a||(a=","),l=r?parseFloat(l).toFixed(0):parseFloat(l).toFixed(1),l=l.replace(".",t);let i=l.split(t);i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,a),l=i.join(t);let s=(parseFloat(l)<0?"("+l.replace("-","")+")":l).replace("(0)","-");return"0"===s?"-":s}static formatMoney(e,t=2,a=".",r=","){try{t=Math.abs(t),t=isNaN(t)?2:t;const l=e<0?"-":"",n=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),o=n.length>3?n.length%3:0;return l+(o?n.substr(0,o)+r:"")+n.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?a+Math.abs(e-n).toFixed(t).slice(2):"")}catch(e){return"error"}}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}}},754:(e,t,a)=>{a.d(t,{Kx:()=>n,Zp:()=>o,iB:()=>u,ks:()=>d,sk:()=>s});var r=a(639);class l{}class n{}class o extends l{getFormattingCard(e,t,a){return{displayName:a&&this.displayNameKey?a.getDisplayName(this.displayNameKey):this.displayName,description:a&&this.descriptionKey?a.getDisplayName(this.descriptionKey):this.description,groups:[t],uid:e,analyticsPane:this.analyticsPane}}}class i extends l{constructor(e){super(),Object.assign(this,e)}getFormattingSlice(e,t){const a=this.type,r=this.name,l={displayName:t&&this.displayNameKey?t.getDisplayName(this.displayNameKey):this.displayName,description:t&&this.descriptionKey?t.getDisplayName(this.descriptionKey):this.description,uid:e+"-"+r};return Object.assign(Object.assign({},l),{control:{type:a,properties:this.getFormattingComponent(e,t)}})}getFormattingComponent(e,t){return{descriptor:r.y(e,this),value:this.value}}getRevertToDefaultDescriptor(e){return[{objectName:e,propertyName:this.name}]}setPropertiesValues(e,t){var a;let l=null===(a=null==e?void 0:e[t])||void 0===a?void 0:a[this.name];this.value=r.D(this,l,this.value)}}class s extends i{constructor(e){super(e),this.type="ColorPicker"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class u extends i{constructor(e){super(e),this.type="NumUpDown"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{options:this.options})}}class d extends i{constructor(e){super(e),this.type="TextInput"}getFormattingComponent(e){return Object.assign(Object.assign({},super.getFormattingComponent(e)),{placeholder:this.placeholder})}}},667:(e,t,a)=>{a.d(t,{A:()=>r});const r=class{constructor(e){this.localizationManager=e}populateFormattingSettingsModel(e,t){var a,r,l;let n=new e,o=null===(r=null===(a=null==t?void 0:t[0])||void 0===a?void 0:a.metadata)||void 0===r?void 0:r.objects;return o&&(null===(l=n.cards)||void 0===l||l.forEach((e=>{var t,a,r;null===(t=null==e?void 0:e.slices)||void 0===t||t.forEach((t=>{null==t||t.setPropertiesValues(o,e.name)})),null===(r=null===(a=null==e?void 0:e.container)||void 0===a?void 0:a.containerItems)||void 0===r||r.forEach((t=>{var a;null===(a=null==t?void 0:t.slices)||void 0===a||a.forEach((t=>{null==t||t.setPropertiesValues(o,e.name)}))}))}))),n}buildFormattingModel(e){var t;let a={cards:[]};return null===(t=e.cards)||void 0===t||t.forEach((e=>{if(!e)return;const t=e.name,r=e.name+"-group";let l={displayName:void 0,slices:[],uid:r},n=e.getFormattingCard(t,l,this.localizationManager);a.cards.push(n);const o={};if(e.container){const a=e.container,i=r+"-container",s={displayName:this.localizationManager&&a.displayNameKey?this.localizationManager.getDisplayName(a.displayNameKey):a.displayName,description:this.localizationManager&&a.descriptionKey?this.localizationManager.getDisplayName(a.descriptionKey):a.description,containerItems:[],uid:i};a.containerItems.forEach((e=>{const a=e.displayNameKey?e.displayNameKey:e.displayName,r=i+a;let l={displayName:this.localizationManager&&e.displayNameKey?this.localizationManager.getDisplayName(e.displayNameKey):e.displayName,slices:[],uid:r};this.buildFormattingSlices(e.slices,t,o,n,l.slices),s.containerItems.push(l)})),l.container=s}e.slices&&this.buildFormattingSlices(e.slices,t,o,n,l.slices),n.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(e)})),a}buildFormattingSlices(e,t,a,r,l){null==e||e.forEach((e=>{let n=null==e?void 0:e.getFormattingSlice(t,this.localizationManager);n&&(void 0===a[e.name]?a[e.name]=0:(a[e.name]++,n.uid=`${n.uid}-${a[e.name]}`),e.topLevelToggle?(n.suppressDisplayName=!0,r.topLevelToggle=n):l.push(n))}))}getRevertToDefaultDescriptor(e){var t,a;const r={};let l=[],n=this.getSlicesRevertToDefaultDescriptor(e.name,e.slices,r),o=[];return null===(a=null===(t=e.container)||void 0===t?void 0:t.containerItems)||void 0===a||a.forEach((t=>{o=o.concat(this.getSlicesRevertToDefaultDescriptor(e.name,t.slices,r))})),l=n.concat(o),l}getSlicesRevertToDefaultDescriptor(e,t,a){let r=[];return null==t||t.forEach((t=>{t&&!a[t.name]&&(a[t.name]=!0,r=r.concat(t.getRevertToDefaultDescriptor(e)))})),r}}},674:(e,t,a)=>{a.d(t,{O:()=>l.A,z:()=>r});var r=a(754),l=a(667)},639:(e,t,a)=>{function r(e,t){return{objectName:e,propertyName:t.name,selector:t.selector,altConstantValueSelector:t.altConstantSelector,instanceKind:t.instanceKind}}function l(e,t,a){return null==t||"object"==typeof t&&!t.solid?a:t.solid?{value:null==t?void 0:t.solid.color}:(null==e?void 0:e.items)?e.items.find((e=>e.value==t)):t}a.d(t,{D:()=>l,y:()=>r})}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{a.r(r),a.d(r,{default:()=>n});var e=a(283),t=window.powerbi,l={name:"tableDataAndGraph",displayName:"table data and graph",class:"Visual",apiVersion:"5.4.0",create:t=>{if(e.b)return new e.b(t);throw"Visual instance not found"},createModalDialog:(e,t,a)=>{const r=globalThis.dialogRegistry;e in r&&new r[e](t,a)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.tableDataAndGraph=l);const n=l})(),tableDataAndGraph=r})();