$((function(){function cm_to_mm(value){return 10*value}function trasnform_escale(value){return ratio_x_pixel=3,value*ratio_x_pixel/10}function return_rodapie(position,top,left,loza_size,ispar){position=position||"top";var _loza_=$('<div class="roda-pie '+ispar+'">');switch(position){case"top":_loza_.css({top:0,left:left,width:loza_size.width,height:6});break;case"left":_loza_.css({top:top,left:0,width:6,height:loza_size.width});break;case"right":_loza_.css({top:top,right:0,width:6,height:loza_size.width})}return _loza_}function return_piso(top,left,loza_size,ispar,Num){var _loza_=$('<div class="loza-piso '+ispar+'">');return _loza_.css({top:top,left:left,width:loza_size.width,height:loza_size.width}),_loza_}function cal_total(w_loza,h_loza){for($(".roda-pie").length&&$(".roda-pie").remove(),Color1="#fff",Color2="#fff",width=cm_to_mm(274),height=cm_to_mm(234),loza={width:trasnform_escale(cm_to_mm(w_loza)),height:trasnform_escale(cm_to_mm(h_loza))},mm_w=trasnform_escale(width),mm_h=trasnform_escale(height),$("#dimension-cuarto").css({width:mm_w,height:mm_h}),totalW=mm_w/loza.width,totalW=totalW>parseInt(totalW)?parseInt(totalW)+1:totalW,console.clear(),console.log(w_loza+"x"+h_loza),i=1;i<=totalW;i++)ispar=i%2==0?"_par":"_impar",$("#dimension-cuarto").append(return_rodapie("top",0,loza.width*i-loza.width,loza,ispar));for(totalH=mm_h/loza.width,totalH=totalH>parseInt(totalH)?parseInt(totalH)+1:totalH,i=1;i<=totalH;i++)ispar=i%2==0?"_par":"_impar",$("#dimension-cuarto").append(return_rodapie("left",loza.width*i-loza.width,0,loza,ispar));for(i=1;i<=totalH;i++)ispar=i%2==0?"_par":"_impar",$("#dimension-cuarto").append(return_rodapie("right",loza.width*i-loza.width,0,loza,ispar));hipotenusa=trasnform_escale(cm_to_mm(Math.sqrt(Math.pow(33,2)+Math.pow(33,2))));var _border_=trasnform_escale(cm_to_mm($("#input_border").val()));$(".borde").css({"border-width":_border_,"background-size":hipotenusa+"px auto"})}$("body").on("click","#btn_calculate",(function(){var h_loza=$("#input_height").val(),w_loza;cal_total($("#input_width").val(),h_loza)})),$(window).on("load",(function(){$("#input_height").val(33),$("#input_width").val(33);var h_loza=$("#input_height").val(),w_loza;cal_total($("#input_width").val(),h_loza)}))}));